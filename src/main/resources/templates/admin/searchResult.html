<!DOCTYPE html>
<html lang="en" isELIgnored="false" pageEncoding="UTF-8"
      xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="include/admin/adminHeader.html"></div>
    <div th:include="include/admin/adminNavigator.html"></div>
    <div th:include="include/admin/search.html"></div>

    <script>
        $(function () {
            $("#addForm").submit(function () {
                if (!checkEmpty("name", "产品名称"))
                    return false;
//          if (!checkEmpty("subTitle", "小标题"))
//              return false;
                if (!checkNumber("originalPrice", "原价格"))
                    return false;
                if (!checkNumber("promotePrice", "优惠价格"))
                    return false;
                if (!checkInt("stock", "库存"))
                    return false;
                return true;
            });
        });
    </script>

    <title>产品管理</title>
</head>
<body>

<div class="workingArea">

    <ol class="breadcrumb">
        <li><a href="listCategory">所有分类</a></li>
        <li><a th:href="@{listProduct(cid = ${category.id})}" th:text="${category.name}">${category.name}</a></li>
        <li class="active">产品管理</li>
    </ol>

    <div class="listDataTableDiv">
        <table
                class="table table-striped table-bordered table-hover  table-condensed">
            <thead>
            <tr class="success">
                <th>ID</th>
                <th>图片</th>
                <th>产品名称</th>
                <th>产品小标题</th>
                <th width="53px">原价格</th>
                <th width="80px">优惠价格</th>
                <th width="80px">库存数量</th>
                <th width="80px">图片管理</th>
                <th width="80px">设置属性</th>
                <th width="42px">编辑</th>
                <th width="42px">删除</th>
            </tr>
            </thead>
            <tbody>
            <tr  th:each="p:${pageInfo.list}">
                <td th:text="${p.id}">${p.id}</td>
                <td th:if="${p.firstProductImage != null}">
                    <a th:href="@{product(pid = ${p.id})}">
                        <img width="40px" th:src="@{img/productSingle/{filename}.jpg(filename=${p.firstProductImage.id})}">
                    </a>
                </td>
                <td th:text="${p.name}">${p.name}</td>
                <td th:text="${p.subTitle}">${p.subTitle}</td>
                <td th:text="${p.originalPrice}">${p.originalPrice}</td>
                <td th:text="${p.promotePrice}">${p.promotePrice}</td>
                <td th:text="${p.stock}">${p.stock}</td>
                <td><a th:href="@{listProductImage(pid = ${p.id})}"><span
                        class="glyphicon glyphicon-picture"></span></a></td>
                <td><a th:href="@{editProductPropertyValue(pid = ${p.id})}"><span
                        class="glyphicon glyphicon-th-list"></span></a></td>

                <td><a th:href="@{editProduct(pid = ${p.id})}"><span
                        class="glyphicon glyphicon-edit"></span></a></td>
                <td><a deleteLink="true" th:href="@{deleteProduct(pid = ${p.id})}"><span
                        class="     glyphicon glyphicon-trash"></span></a></td>

            </tr>
            </tbody>
        </table>
    </div>

    <div class="pageDiv" th:include="include/admin/adminPage.html">
    </div>


</div>
<div th:include="include/admin/adminFooter.html"></div>
</body>

</html>